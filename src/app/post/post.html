<div class="principal">
  <!--Navigation bar-->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a routerLink="/home" style="margin-left: 10px"><img src="./assets/img/logo.png" width="60" height="60" alt="" ></a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right" style="margin-right: 10px">
        <li><a routerLink="/feed">Feed</a></li>
        <li><a routerLink="/ranking">Ranking</a></li>
        <li><a routerLink="/home">Logout</a></li>
        <li>
          <form class="navbar-form">
            <input type="text" class= "search-txt " placeholder="Pesquisar no Feed">
            <a type="submit"  class="btn-search"><i class="fa fa-search"></i></a>
          </form>
        </li>
      </ul>
    </div>
  </nav>
  <!--/Navigation bar-->
  <!--Modal box-->
  <div class="modal fade" id="changepsw" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title text-center form-title" style="color: #0066cc;">Alterar senha</h4>
        </div>
        <div class="modal-body">
          <div class="login-box-body">
            <form action="#" method="post" name="changepsw">
              <p class="login-box-msg" style="color: grey;">Preencha os campos</p>
                <div class="form-group" style="margin-bottom:0rem">                    <!----- username -------------->
                  <label for="pass" style="font-size: 1.3rem">Senha atual</label>
                  <input class="form-control" placeholder="Senha atual" id="pass" type="password" name="pass" required=""/>
                  <span style="display:none; font-weight:bold; position:absolute;color: red;position: absolute;padding:4px;font-size: 11px;background-color:rgba(128, 128, 128, 0.26);z-index: 17;  right: 27px; top: 5px;" id="span_loginid"></span>
                </div>
                <div class="form-group" style="margin-bottom:0rem">                    <!----- password -------------->
                  <label for="password1" style="font-size: 1.3rem">Nova Senha</label>
                  <input class="form-control" placeholder="Senha" id="password1" type="password" name="password1" required=""/>
                  <span style="display:none;font-weight:bold; position:absolute;color: grey;position: absolute;padding:4px;font-size: 11px;background-color:rgba(128, 128, 128, 0.26);z-index: 17;  right: 27px; top: 5px;" id="span_loginpsw1"></span>
                </div>
                <div class="form-group">                    <!----- password -------------->
                  <label for="password2" style="font-size: 1.3rem">Confirme a senha</label>
                  <input class="form-control" placeholder="Repita senha" id="password2" type="password" name="password2" required=""/>
                  <span style="display:none;font-weight:bold; position:absolute;color: grey;position: absolute;padding:4px;font-size: 11px;background-color:rgba(128, 128, 128, 0.26);z-index: 17;  right: 27px; top: 5px;" id="span_loginpsw2"></span>
                  <input style="margin-top: 20px;"type="submit" class="btn btn-green btn-block btn-flat" value="Cadastrar">
                </div>
             </form>
        </div>
      </div>
    </div>
  </div>
 </div>
  <div class="modal fade" id="changeimg" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title text-center form-title" style="color: #0066cc;">Alterar foto de perfil</h4>
        </div>
        <div class="modal-body">
          <div class="login-box-body">
            <p class="login-box-msg" style="color: grey;">Insira uma foto</p>
            <form action="#" method="post" name="changeimg" style="width: 350px; margin-left:-20px;" >
            <input class="form-control" id="perfilImg" type="file" name="perfilImg" accept="image/*"/>
            <input style="margin-top: 20px;"type="submit" class="btn btn-green btn-block btn-flat" value="Alterar">
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade " id="post01" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content  modal-sm" >
        <div class="modal-header" >
          <div class="row">
            <h4 style="color:red;text-align: center;" class="modal-title" id="modalLabel">Denunciar publicação</h4>
          </div>
        </div>
        <div class="modal-body" style="text-align: center;">
          <p style="color:black;font-size:20px;">Esta publicação será denunciada. Deseja continuar?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger">Sim</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">N&atilde;o</button>
        </div>
      </div>
    </div>
  </div>
  <!--/ Modal box-->
  <!-- Sidebar-->
  <div class="s-layout__sidebar">
    <nav class="s-sidebar__nav" style="margin-top: 60px;">
      <ul>
        <img src="./assets/img/avatar.png">
        <br>
        <em style="padding-left:10%;">Felipe Dias Pinheiro</em>
        <li>
          <a class="s-sidebar__nav-link" href="#" data-target="#changeimg" data-toggle="modal" >
          <i class="fa fa-camera"></i><em>Editar Foto</em>
          </a>
        </li>
        <li>
          <a class="s-sidebar__nav-link" routerLink="/post">
          <i class="fa fa-newspaper-o"></i><em>Publicar</em>
          </a>
        </li>
        <li>
          <a class="s-sidebar__nav-link" href="#demo" data-toggle="collapse">
          <i class="fa fa-pencil-square-o"></i><em>Demandas</em>
          </a>
        </li>
        <div id="demo" class="collapse">
          <div style="margin-left: 60px; margin-top: 8px; padding-top: 40px;"><a  style="text-decoration: none;" routerLink="/madeByme" >Criadas</a></div>
            <div style="margin-left: 60px; margin-top: 8px;"><a  style="text-decoration: none;"routerLink="/liked" >Curtidas/<br>Comentadas</a></div>
             <div style="margin-left: 60px; margin-top: 8px;"><a  style="text-decoration: none;" routerLink="/solved">Solucionadas</a></div>
             </div>
             <li>
                <a class="s-sidebar__nav-link"  href="#" data-target="#changepsw" data-toggle="modal">
                <i class="fa fa-unlock-alt"></i><em>Alterar Senha</em>
                 </a>
             </li>
      </ul>
    </nav>
  </div>
  <!--/ Sidebar-->
  <div class="s-layout__content">
    <div class="mar">
      <div class="group" *ngIf="card1">
        <div class="card">
          <div class="card-header text-center">
            <h4>Vamos criar sua demanda!</h4>
          </div>
          <div class="card-body text-center">
            <p style="color:#0066cc">Qual o tipo da sua demanda?</p>
            <input type="radio" name="tipo" style="margin:10px;" checked>Sugestão
            <input type="radio" name="tipo" style="margin:10px;">Problema
            <br>
            <br>
            <i class="fa fa-map-marker" aria-hidden="true" id="local" style="font-size:54px"></i>
            <br>
            <label for="campus">
              Selecione o Campus
            </label>
            <br>
            <br>
            <select id="campus" name="campus">
              <option value="1">Ceilândia</option>
              <option value="2" selected>Darcy Ribeiro</option>
              <option value="3">Gama</option>
              <option value="4">Planaltina</option>
            </select>
            <br>
            <button style="margin: 20px;" type="submit" class="btn btn-green btn-block" (click)="proxcard()">CONFIRMAR</button>
          </div>
        </div>
      </div>
      <div class="group" *ngIf="card2">
        <div class="card">
          <div class="card-header text-center">
            <h4>Vamos criar sua demanda!</h4>
          </div>
          <div class="card-body text-center">
              <p style="color:#0066cc">Sua demanda está localizada
              em um ambiente externo ou interno?</p>
              <input type="radio" name="space" value="intern" (click) = "setradio('intern')" style="margin:10px;" ngModel>Interno
                  <input type="radio" name="space" value="extern" (click) = "setradio('extern')" style="margin:10px;" ngModel>Externo
                  <br>
                  <br>
            <i class="fa fa-sitemap" aria-hidden="true" style="font-size:54px"></i>
            <br>
            <label for="category">
              Selecione uma opção de categoria para sua demanda.
            </label>
            <br>
            <br>
            <select id="category" name="category">
                <option value="1">Elétrica</option>
                <option value="2">Estrutural</option>
                <option value="3">Hidráulica</option>
                <option value="4">Jardim</option>
              </select>
            <br>
            <button style="margin: 20px;" type="submit" class="btn btn-green btn-block" (click)="ambiente()">CONFIRMAR</button>
          </div>
        </div>
      </div>
      <div class="group" *ngIf="card3">
        <div class="card">
          <div class="card-header text-center">
            <h4>Vamos criar sua demanda!</h4>
          </div>
          <div class="card-body text-center">
            <i class="fa fa-map-marker" aria-hidden="true" id="local" style="font-size:54px"></i>
            <br>
            <label for="predio">
              Selecione o local
            </label>
            <br>
            <br>
            <select *ngIf="predio" name="predio">
            </select>
            <br>
            <button style="margin-bottom: 20px;" type="button" class="btn btn-green btn-block" (click)="lastpart()">CONFIRMAR</button>
          </div>
        </div>
      </div>
      <div class="group" *ngIf="card4">
        <div class="card">
          <div class="card-header text-center">
            <h4>Vamos criar sua demanda!</h4>
          </div>
          <div class="card-body text-center">
             <i class="fa fa-map-marker" aria-hidden="true" id="local" style="font-size:54px"></i>
            <br>
            <label for="ambiente">
              Selecione agora uma opção de ambiente no qual sua demanda está localizada
            </label>
            <br>
            <br>
            <select *ngIf="ambienteIn" name="ambiente">
                <option value="1">Sala</option>
                <option value="2">Corredor</option>
                <option value="3">Gama</option>
                <option value="4">Planaltina</option>
            </select>
            <select *ngIf="ambienteOut" name="ambiente">
                <option value="1">Pista</option>
                <option value="2">Corredor</option>
                <option value="3">Gama</option>
                <option value="4">Planaltina</option>
            </select>
            <br>
            <button style="margin: 20px;" type="button" class="btn btn-green btn-block" data-toggle="modal" data-target="#Posts">CONFIRMAR</button>
          </div>
        </div>
      </div>
      <div class="group" *ngIf="posts">
          <div class="card">
            <div class="card-header text-center">
              <h4>Vamos criar sua demanda!</h4>
            </div>
            <div class="card-body text-center">
                <label for="titleDemand" style="color:#0066cc; font-size: 14px">Dê um título à sua demanda</label>
                <input type="text" id="titleDemand" required maxlength="25" style="border-radius:10px">
                <br>
                <br>
                <label for="description" style="color:#0066cc; font-size: 14px">Faça uma breve descrição sobre a demanda e o local onde está localizada (ex: sala BT15/18)</label>
                <textarea type="text" id="description" required maxlength="150" style="width: 100%; height: 100px;"></textarea>
                <br>
                <br>
                <br>
              <i class="fa fa-camera text-justify" aria-hidden="true" id="local" style="font-size:48px"></i>
              <br>
              <label>
                Insira uma foto
              </label>
              <br>
              <br>
              <input class="text-justify" type="file" style="font-size: 14px;">
              <br>
              <button style="margin: 20px;" type="button" class="btn btn-green btn-block">Publicar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

      <div class="modal fade" id="Posts" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
          <div class="modal-dialog" >
            <div class="modal-content" style="background-color:rgb(242,244,247)">
              <div class="modal-header ">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h3 class="modal-title" id="modalLabel">Verifique se existe alguma demanda similar a sua!</h3>
                  <h5>Caso não exista, continue criando sua demanda para que todos possam ter acesso!</h5>
              </div>
              <div class="modal-body">
                <div class="mar rolavel" style="margin-top:0px">
                  <div class="card" *ngFor="let post of postsSimilar ">
                    <div class="pull-right">
                      <button class="btn btn-link" data-toggle="modal" data-target="#post01"  aria-controls="post01">
                        <i class="fa fa-exclamation" style="font-size:30px; color:#dc3545"></i>
                      </button>
                    </div>
                    <div class="card-header textleft">
                      <div class="col-xs-2" style="width:auto; padding:1; height: 100%;">
                        <img [src]="post?.user.profilePicture" style="object-fit:cover; border-radius: 50%;">
                      </div>
                      <p style="padding-top:5px;">
                        <a style="color:#0066cc">  {{post?.user.name}}</a>
                        publicou
                        <b>{{post?.title}}</b>
                        em<br>
                        <i class="fa fa-map-marker" style="color:gray;" name="pin"></i>
                        {{post?.location}} {{post?.date}} às {{post?.hour}}
                      </p>
                    </div>
                    <div class="card-body" style="background-color:#fff;         border-radius: 10px;">
                      <img [src]="post?.image" style="width:100%">
                      <p>
                      {{post?.description}}
                      </p>
                      <div class="row">
                        <div class="col-sm-12">
                      <div class="linha"></div>
                          <ul class="list-inline">

                            <div class="pull-left" style="color:#0066cc">
                                <a>
                                <i class="fa fa-thumbs-up" style="  margin-left: 20px;margin-top:7px;
                                font-size: 15px;color:#3366BB"></i></a>
                                {{post?.likes}}
                              </div>
                              <div class=" pull-right"  >
                                <i class="fa fa-comments btn btn-link " style="padding-right:0; "></i>
                                <a class="btn btn-link " style="padding:0;color: #0066cc; margin-right: 20px;" (click)="collapsedFooter=!collapsedFooter">
                                {{post?.commentnum}} comentários
                                </a>
                              </div>


                          </ul>

                        </div>
                      </div>

                    </div>
                    <div class="card-footer"  style="background-color:#fff;" *ngIf="collapsedFooter">
                        <div class="linha2"></div>
                      <div class="card-header textleft">
                        <div class="col-xs-2" style="width:auto;">
                          <img [src]="post?.comment.user.profilePicture" style="object-fit:cover;border-radius: 50%;">
                        </div>
                        <p class="borda"style="  font-size: 1vw;">
                          <a style="color:#3366BB">  {{post?.comment.user.name}}</a>
                          <br>
                          {{post?.comment.com}}
                        </p>
                    </div>
                  </div>
                </div>
              </div>
                <button style="margin-top: 20px;" type="button" class="btn btn-green" data-dismiss="modal" (click)="demand()">Continuar demanda</button>
            </div>
          </div>
                <!--/Card-->
    </div>
  </div>
</div>
<script src="post.ts"></script>
