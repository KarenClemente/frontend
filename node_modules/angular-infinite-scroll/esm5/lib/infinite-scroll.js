/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { NgForOf } from '@angular/common';
import { BehaviorSubject, interval, merge, Observable, Subject } from 'rxjs';
import { exhaustMap, switchMap, take } from 'rxjs/operators';
import { DEFAULTS } from './defaults';
/**
 * @abstract
 * @template T
 */
var /**
 * @abstract
 * @template T
 */
InfiniteScroll = /** @class */ (function () {
    function InfiniteScroll(_differs, zone) {
        var _this = this;
        this._differs = _differs;
        this.zone = zone;
        this._userEnd$ = new Observable();
        this._end$ = new Subject();
        this._updateAfterRender$ = new Subject();
        this.position = DEFAULTS.POSITION;
        this.step = DEFAULTS.STEP;
        this.offset = DEFAULTS.OFFSET;
        this.delay = DEFAULTS.DELAY;
        this.loading$ = new BehaviorSubject(false);
        zone.runOutsideAngular(function () {
            window.addEventListener('scroll', function () { return _this._update(); });
            window.addEventListener('resize', function () { return _this._update(); });
        });
    }
    /**
     * @return {?}
     */
    InfiniteScroll.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this._subscriptionLoadingEnd = merge(this._userEnd$, this._updateAfterRender$).subscribe(function () { return _this.loading$.next(false); });
        this._subscriptionUpdateAfterRender =
            this._updateAfterRender$.pipe(switchMap(function () { return interval(_this.delay).pipe(take(1)); })).subscribe(function () { return _this._update(); });
        this._update();
    };
    /**
     * @return {?}
     */
    InfiniteScroll.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        if (this._ngFor) {
            this._ngFor.ngDoCheck();
        }
    };
    /**
     * @return {?}
     */
    InfiniteScroll.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.destroy(this._subscriptionEnd);
        this.destroy(this._subscriptionLoading);
        this.destroy(this._subscriptionLoadingEnd);
        this.destroy(this._subscriptionUpdateAfterRender);
    };
    /**
     * @param {?} viewContainer
     * @param {?} template
     * @return {?}
     */
    InfiniteScroll.prototype.createNgFor = /**
     * @param {?} viewContainer
     * @param {?} template
     * @return {?}
     */
    function (viewContainer, template) {
        this._ngFor = new NgForOf(viewContainer, template, this._differs);
    };
    /**
     * @param {?} loading
     * @return {?}
     */
    InfiniteScroll.prototype.subscribeLoading = /**
     * @param {?} loading
     * @return {?}
     */
    function (loading) {
        this.destroy(this._subscriptionLoading);
        this._subscriptionLoading = this.loading$.subscribe(loading);
    };
    /**
     * @param {?} scrollEnd
     * @return {?}
     */
    InfiniteScroll.prototype.subscribeEnd = /**
     * @param {?} scrollEnd
     * @return {?}
     */
    function (scrollEnd) {
        var _this = this;
        this.destroy(this._subscriptionEnd);
        this._userEnd$ = this._end$.pipe(exhaustMap(function () { return scrollEnd(_this.position, _this.step); }));
        this._subscriptionEnd = this._userEnd$.subscribe(this.newItems.bind(this), function () { return _this.newItems.bind(_this)([]); });
    };
    /**
     * @return {?}
     */
    InfiniteScroll.prototype._update = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var scrollHeight = window.innerHeight + window.scrollY;
        if (scrollHeight >= document.body.offsetHeight - this.offset) {
            this.zone.runOutsideAngular(function () {
                _this.update();
            });
        }
    };
    /**
     * @param {?} subscription
     * @return {?}
     */
    InfiniteScroll.prototype.destroy = /**
     * @param {?} subscription
     * @return {?}
     */
    function (subscription) {
        if (subscription && !subscription.closed) {
            subscription.unsubscribe();
        }
    };
    return InfiniteScroll;
}());
/**
 * @abstract
 * @template T
 */
export { InfiniteScroll };
if (false) {
    /** @type {?} */
    InfiniteScroll.prototype._subscriptionLoading;
    /** @type {?} */
    InfiniteScroll.prototype._subscriptionLoadingEnd;
    /** @type {?} */
    InfiniteScroll.prototype._userEnd$;
    /** @type {?} */
    InfiniteScroll.prototype._subscriptionEnd;
    /** @type {?} */
    InfiniteScroll.prototype._subscriptionUpdateAfterRender;
    /** @type {?} */
    InfiniteScroll.prototype._end$;
    /** @type {?} */
    InfiniteScroll.prototype._updateAfterRender$;
    /** @type {?} */
    InfiniteScroll.prototype._ngFor;
    /** @type {?} */
    InfiniteScroll.prototype.position;
    /** @type {?} */
    InfiniteScroll.prototype.step;
    /** @type {?} */
    InfiniteScroll.prototype.offset;
    /** @type {?} */
    InfiniteScroll.prototype.delay;
    /** @type {?} */
    InfiniteScroll.prototype.loading$;
    /** @type {?} */
    InfiniteScroll.prototype._differs;
    /** @type {?} */
    InfiniteScroll.prototype.zone;
    /**
     * @abstract
     * @return {?}
     */
    InfiniteScroll.prototype.update = function () { };
    /**
     * @abstract
     * @param {?} newItems
     * @return {?}
     */
    InfiniteScroll.prototype.newItems = function (newItems) { };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5maW5pdGUtc2Nyb2xsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhci1pbmZpbml0ZS1zY3JvbGwvIiwic291cmNlcyI6WyJsaWIvaW5maW5pdGUtc2Nyb2xsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUMsT0FBTyxFQUFpQixNQUFNLGlCQUFpQixDQUFDO0FBRXhELE9BQU8sRUFBQyxlQUFlLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFlLE1BQU0sTUFBTSxDQUFDO0FBQ3pGLE9BQU8sRUFBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRTNELE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxZQUFZLENBQUM7Ozs7O0FBRXBDOzs7O0FBQUE7SUFhRSx3QkFBb0IsUUFBeUIsRUFBUyxJQUFZO1FBQWxFLGlCQUtDO1FBTG1CLGFBQVEsR0FBUixRQUFRLENBQWlCO1FBQVMsU0FBSSxHQUFKLElBQUksQ0FBUTt5QkFWOUMsSUFBSSxVQUFVLEVBQWlCO3FCQUtqQyxJQUFJLE9BQU8sRUFBaUI7bUNBQ2QsSUFBSSxPQUFPLEVBQU87d0JBV3ZDLFFBQVEsQ0FBQyxRQUFRO29CQUNyQixRQUFRLENBQUMsSUFBSTtzQkFDWCxRQUFRLENBQUMsTUFBTTtxQkFDaEIsUUFBUSxDQUFDLEtBQUs7d0JBQ1gsSUFBSSxlQUFlLENBQVUsS0FBSyxDQUFDO1FBVjVDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztZQUNyQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLGNBQU0sT0FBQSxLQUFJLENBQUMsT0FBTyxFQUFFLEVBQWQsQ0FBYyxDQUFDLENBQUM7WUFDeEQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxjQUFNLE9BQUEsS0FBSSxDQUFDLE9BQU8sRUFBRSxFQUFkLENBQWMsQ0FBQyxDQUFDO1NBQ3pELENBQUMsQ0FBQztLQUNKOzs7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QkFDMUIsS0FBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2FBQ2YsQ0FBQyxDQUFDO1NBQ0o7Ozs7OztJQUdLLGdDQUFPOzs7O2NBQUMsWUFBMEI7UUFDeEMsRUFBRSxDQUFDLENBQUMsWUFBWSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDekMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQzVCOzt5QkFqRkw7SUF1RkMsQ0FBQTs7Ozs7QUFoRkQsMEJBZ0ZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtOZ0Zvck9mLCBOZ0Zvck9mQ29udGV4dH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHtEb0NoZWNrLCBJdGVyYWJsZURpZmZlcnMsIE5nSXRlcmFibGUsIE5nWm9uZSwgT25EZXN0cm95LCBPbkluaXQsIFRlbXBsYXRlUmVmLCBWaWV3Q29udGFpbmVyUmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtCZWhhdmlvclN1YmplY3QsIGludGVydmFsLCBtZXJnZSwgT2JzZXJ2YWJsZSwgU3ViamVjdCwgU3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHtleGhhdXN0TWFwLCBzd2l0Y2hNYXAsIHRha2V9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7REVGQVVMVFN9IGZyb20gJy4vZGVmYXVsdHMnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEluZmluaXRlU2Nyb2xsPFQ+IGltcGxlbWVudHMgT25Jbml0LCBEb0NoZWNrLCBPbkRlc3Ryb3kge1xyXG4gIHByaXZhdGUgX3N1YnNjcmlwdGlvbkxvYWRpbmc6IFN1YnNjcmlwdGlvbjtcclxuICBwcml2YXRlIF9zdWJzY3JpcHRpb25Mb2FkaW5nRW5kOiBTdWJzY3JpcHRpb247XHJcbiAgcHJpdmF0ZSBfdXNlckVuZCQgPSBuZXcgT2JzZXJ2YWJsZTxOZ0l0ZXJhYmxlPFQ+PigpO1xyXG5cclxuICBwcm90ZWN0ZWQgX3N1YnNjcmlwdGlvbkVuZDogU3Vic2NyaXB0aW9uO1xyXG4gIHByb3RlY3RlZCBfc3Vic2NyaXB0aW9uVXBkYXRlQWZ0ZXJSZW5kZXI6IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgcHJvdGVjdGVkIF9lbmQkID0gbmV3IFN1YmplY3Q8TmdJdGVyYWJsZTxUPj4oKTtcclxuICBwcm90ZWN0ZWQgX3VwZGF0ZUFmdGVyUmVuZGVyJCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuXHJcbiAgcHJvdGVjdGVkIF9uZ0ZvcjtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZGlmZmVyczogSXRlcmFibGVEaWZmZXJzLCBwdWJsaWMgem9uZTogTmdab25lKSB7XHJcbiAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHRoaXMuX3VwZGF0ZSgpKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMuX3VwZGF0ZSgpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zaXRpb24gPSBERUZBVUxUUy5QT1NJVElPTjtcclxuICBzdGVwID0gREVGQVVMVFMuU1RFUDtcclxuICBvZmZzZXQgPSBERUZBVUxUUy5PRkZTRVQ7XHJcbiAgZGVsYXkgPSBERUZBVUxUUy5ERUxBWTtcclxuICBsb2FkaW5nJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbkxvYWRpbmdFbmQgPSBtZXJnZSh0aGlzLl91c2VyRW5kJCwgdGhpcy5fdXBkYXRlQWZ0ZXJSZW5kZXIkKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5sb2FkaW5nJC5uZXh0KGZhbHNlKSk7XHJcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25VcGRhdGVBZnRlclJlbmRlciA9XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlQWZ0ZXJSZW5kZXIkLnBpcGUoc3dpdGNoTWFwKCgpID0+IGludGVydmFsKHRoaXMuZGVsYXkpLnBpcGUodGFrZSgxKSkpKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fdXBkYXRlKCkpO1xyXG5cclxuICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgbmdEb0NoZWNrKCkge1xyXG4gICAgaWYgKHRoaXMuX25nRm9yKSB7XHJcbiAgICAgIHRoaXMuX25nRm9yLm5nRG9DaGVjaygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRlc3Ryb3kodGhpcy5fc3Vic2NyaXB0aW9uRW5kKTtcclxuICAgIHRoaXMuZGVzdHJveSh0aGlzLl9zdWJzY3JpcHRpb25Mb2FkaW5nKTtcclxuICAgIHRoaXMuZGVzdHJveSh0aGlzLl9zdWJzY3JpcHRpb25Mb2FkaW5nRW5kKTtcclxuICAgIHRoaXMuZGVzdHJveSh0aGlzLl9zdWJzY3JpcHRpb25VcGRhdGVBZnRlclJlbmRlcik7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgY3JlYXRlTmdGb3Iodmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZiwgdGVtcGxhdGU6IFRlbXBsYXRlUmVmPE5nRm9yT2ZDb250ZXh0PFQ+Pikge1xyXG4gICAgdGhpcy5fbmdGb3IgPSBuZXcgTmdGb3JPZjxUPih2aWV3Q29udGFpbmVyLCB0ZW1wbGF0ZSwgdGhpcy5fZGlmZmVycyk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc3Vic2NyaWJlTG9hZGluZyhsb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5kZXN0cm95KHRoaXMuX3N1YnNjcmlwdGlvbkxvYWRpbmcpO1xyXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uTG9hZGluZyA9IHRoaXMubG9hZGluZyQuc3Vic2NyaWJlKGxvYWRpbmcpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHN1YnNjcmliZUVuZChzY3JvbGxFbmQ6IChwb3NpdGlvbjogbnVtYmVyLCBpbnRlcnZhbDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlPE5nSXRlcmFibGU8VD4+KSB7XHJcbiAgICB0aGlzLmRlc3Ryb3kodGhpcy5fc3Vic2NyaXB0aW9uRW5kKTtcclxuICAgIHRoaXMuX3VzZXJFbmQkID0gdGhpcy5fZW5kJC5waXBlKGV4aGF1c3RNYXAoKCkgPT4gc2Nyb2xsRW5kKHRoaXMucG9zaXRpb24sIHRoaXMuc3RlcCkpKTtcclxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbkVuZCA9IHRoaXMuX3VzZXJFbmQkLnN1YnNjcmliZSh0aGlzLm5ld0l0ZW1zLmJpbmQodGhpcyksICgpID0+IHRoaXMubmV3SXRlbXMuYmluZCh0aGlzKShbXSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfdXBkYXRlKCkge1xyXG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFk7XHJcbiAgICBpZiAoc2Nyb2xsSGVpZ2h0ID49IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0IC0gdGhpcy5vZmZzZXQpIHtcclxuICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGVzdHJveShzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbikge1xyXG4gICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xyXG4gICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGUoKTtcclxuXHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IG5ld0l0ZW1zKG5ld0l0ZW1zOiBOZ0l0ZXJhYmxlPFQ+KTtcclxufVxyXG4iXX0=